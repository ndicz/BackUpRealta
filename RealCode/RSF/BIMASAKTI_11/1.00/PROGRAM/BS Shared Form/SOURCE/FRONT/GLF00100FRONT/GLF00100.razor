@inherits R_Page
@attribute [R_Page(Title = "Journal")]

<R_StackLayout Style="width: 1300px">
    <R_GroupBox Title="Journal Description">
        <R_StackLayout Row>
            <R_ItemLayout col="5">
                <R_StackLayout Row><R_ItemLayout><R_Label></R_Label> </R_ItemLayout></R_StackLayout>

                <R_StackLayout Row>
                    <R_ItemLayout Style="width:120px">
                        <R_Label>Departement</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="3">
                        <R_TextBox @bind-Value="@_viewModel.Data.CDEPT_CODE"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="6">
                        <R_TextBox @bind-Value="@_viewModel.Data.CDEPT_NAME"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
                <R_StackLayout Row>
                    <R_ItemLayout Style="width:120px">
                        <R_Label>Reference No.</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="4">
                        <R_TextBox @bind-Value="@_viewModel.Data.CREF_NO"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_Label>Ref. Date</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="3">
                        <R_TextBox @bind-Value="@_viewModel.Data.CREF_DATE"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
                <R_StackLayout Row>
                    <R_ItemLayout Style="width:120px">
                        <R_Label>Document No.</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="4">
                        <R_TextBox @bind-Value="@_viewModel.Data.CDOC_NO"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_Label>Doc. Date</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="3">
                        <R_TextBox @bind-Value="@_viewModel.Data.CDOC_DATE"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
            </R_ItemLayout>
            <R_ItemLayout col="4">
                <R_StackLayout Row><R_ItemLayout><R_Label></R_Label> </R_ItemLayout></R_StackLayout>

                <R_StackLayout Row>
                    <R_ItemLayout Style="width: 100px">
                        <R_Label>Currency</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout Style="width: 50px">
                        <R_TextBox @bind-Value="@_viewModel.Data.CCURRENCY_CODE"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout Style="width: 180px">
                        <R_Label></R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout Style="width: 90px">
                        <R_Label>Total journal</R_Label>
                    </R_ItemLayout>
                </R_StackLayout>
                <R_StackLayout Row>
                    <R_ItemLayout Style="width: 100px">
                        <R_Label>Local Currency</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="3">
                        <R_NumericTextBox @bind-Value="@_viewModel.Data.NLBASE_RATE"
                                   Arrows="false"
                                   Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout Style="width: 50px">
                        <R_TextBox @bind-Value="@_viewModel.Data.CCURRENCY_CODE"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="3">
                        <R_NumericTextBox @bind-Value="@_viewModel.Data.NLCURRENCY_RATE"
                                   Arrows="false"
                                   Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout Style="width: 50px">
                        <R_TextBox @bind-Value="@_viewModel.CompanyInfo.CLOCAL_CURRENCY_CODE"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
                <R_StackLayout Row>
                    <R_ItemLayout Style="width: 100px">
                        <R_Label>Base Currency</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="3">
                        <R_NumericTextBox @bind-Value="@_viewModel.Data.NBBASE_RATE"
                                   Arrows="false"
                                   Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout Style="width: 50px">
                        <R_TextBox @bind-Value="@_viewModel.Data.CCURRENCY_CODE"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="3">
                        <R_NumericTextBox @bind-Value="@_viewModel.Data.NBCURRENCY_RATE"
                                   Arrows="false"
                                   Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout Style="width: 50px">
                        <R_TextBox @bind-Value="@_viewModel.CompanyInfo.CBASE_CURRENCY_CODE"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
            </R_ItemLayout>
            <R_ItemLayout col="3">
                <R_StackLayout Row>
                    <R_ItemLayout col="5">
                        <R_Label>Debit</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="5">
                        <R_Label>Credit</R_Label>
                    </R_ItemLayout>
                </R_StackLayout>
                <R_StackLayout Row>
                    <R_ItemLayout col="5">
                        <R_NumericTextBox @bind-Value="@_viewModel.Data.NDEBIT_AMOUNT"
                                   Arrows="false"
                                   Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="5">
                        <R_NumericTextBox @bind-Value="@_viewModel.Data.NCREDIT_AMOUNT"
                                   Arrows="false"
                                   Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                </R_StackLayout>
                <R_StackLayout Row>
                    <R_ItemLayout col="5">
                        <R_NumericTextBox @bind-Value="@_viewModel.Data.NLDEBIT_AMOUNT"
                                          Arrows="false"
                                          Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="5">
                        <R_NumericTextBox @bind-Value="@_viewModel.Data.NLCREDIT_AMOUNT"
                                   Arrows="false"
                                   Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                </R_StackLayout>
                <R_StackLayout Row>
                    <R_ItemLayout col="5">
                        <R_NumericTextBox @bind-Value="@_viewModel.Data.NBDEBIT_AMOUNT"
                                   Arrows="false"
                                   Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="5">
                        <R_NumericTextBox @bind-Value="@_viewModel.Data.NBCREDIT_AMOUNT"
                                          Arrows="false"
                                          Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                </R_StackLayout>
            </R_ItemLayout>
        </R_StackLayout>
        <R_StackLayout Row>
            <R_ItemLayout Style="width:120px">
                <R_Label>Description</R_Label>
            </R_ItemLayout>
            <R_ItemLayout col="8">
                <R_TextBox @bind-Value="@_viewModel.Data.CTRANS_DESC"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
        </R_StackLayout>
        <R_StackLayout Row>
            <R_ItemLayout Style="width:120px">
                <R_Label>Transaction Type</R_Label>
            </R_ItemLayout>
            <R_ItemLayout col="2">
                <R_TextBox @bind-Value="@_viewModel.Data.CTRANSACTION_NAME"
                           Enabled="false">
                </R_TextBox>
            </R_ItemLayout>
        </R_StackLayout>
    </R_GroupBox>

    <R_GroupBox Title="Journal Detail">
        <R_StackLayout Row>
            <R_ItemLayout col="12">
                <R_Grid @ref="@_gridRef"
                        DataSource="@_viewModel.JrnlDetailGrid"
                        R_ServiceGetListRecord="@JournalDetail_List_ServiceGetListRecord"
                        Pageable="true"
                        R_RowRender="@((R_GridRowRenderEventArgs args) => R_RowRender(args))"
                        Height="200px">
                    <R_GridColumns>
                        <R_GridTextColumn FieldName="CGLACCOUNT_NO" HeaderText="Account No." Width="200px"></R_GridTextColumn>
                        <R_GridTextColumn FieldName="CGLACCOUNT_NAME" HeaderText="Account Name" Width="300px"></R_GridTextColumn>
                        <R_GridTextColumn FieldName="CCENTER_NAME" HeaderText="Center" Width="300px"></R_GridTextColumn>
                        <R_GridTextColumn FieldName="CDBCR" HeaderText="D/C" Width="100px"></R_GridTextColumn>
                        <R_GridNumericColumn FieldName="NDEBIT" HeaderText="Debit" Width="150px"></R_GridNumericColumn>
                        <R_GridNumericColumn FieldName="NCREDIT" HeaderText="Credit" Width="150px"></R_GridNumericColumn>
                        <R_GridTextColumn FieldName="CDETAIL_DESC" HeaderText="Description" Width="300px"></R_GridTextColumn>
                        <R_GridTextColumn FieldName="CDOCUMENT_NO" HeaderText="Voucher No." Width="200px"></R_GridTextColumn>
                        <R_GridTextColumn FieldName="CDOCUMENT_DATE" HeaderText="Voucher Date" Width="200px"></R_GridTextColumn>
                        <R_GridNumericColumn FieldName="NLDEBIT" HeaderText="DB (Local)" Width="150px"></R_GridNumericColumn>
                        <R_GridNumericColumn FieldName="NLCREDIT" HeaderText="CR (Local)" Width="150px"></R_GridNumericColumn>
                        <R_GridNumericColumn FieldName="NBDEBIT" HeaderText="DB (Base)" Width="150px"></R_GridNumericColumn>
                        <R_GridNumericColumn FieldName="NBCREDIT" HeaderText="CR (Base)" Width="150px"></R_GridNumericColumn>
                    </R_GridColumns>
                </R_Grid>
            </R_ItemLayout>
        </R_StackLayout>
    </R_GroupBox>

    <R_StackLayout Row>
        <R_ItemLayout>
            <R_Button OnClick="@Button_OnClickCloseAsync" FontSize="16">Close</R_Button>
        </R_ItemLayout>
    </R_StackLayout>

    <R_Conductor @ref="@_conductorRef"
                 R_ViewModel="@_viewModel"
                 R_IsHeader="true"
                 R_ServiceGetRecord="@JournalDetail_ServiceGetRecord"
                 R_Display="@JournalDetail_Display" />
</R_StackLayout>